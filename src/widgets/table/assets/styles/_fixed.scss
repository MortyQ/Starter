// Table Fixed Columns Styles
// ============================================
@use './variables' as *;

// Base fixed column
// Only background and z-index styles, WITHOUT position: sticky!
// Sticky is added separately for left/right
.table-fixed-column {
  z-index: $z-index-fixed-cell;
  background-color: theme('colors.cardBg');

  // Performance optimization: use will-change for smoother scrolling
  // This creates a new layer and enables GPU acceleration
  will-change: transform;
}

// Left fixed column - adds sticky for horizontal scroll
.table-fixed-left {
  position: sticky;
  left: 0;

  // Dynamic left position set through inline styles
  // left: calc(sum of previous fixed left widths)
}

// Right fixed column - adds sticky for horizontal scroll
.table-fixed-right {
  position: sticky;
  right: 0;

  // Dynamic right position set through inline styles
  // right: calc(sum of previous fixed right widths)
}

// Shadow for last left fixed column
.table-fixed-left-last {
  &::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: $table-shadow-offset;
    transform: translateX(100%);
    pointer-events: none;
    box-shadow: $table-shadow-left;
    // Performance: no transition for better FPS
  }
}

// Shadow for first right fixed column
.table-fixed-right-first {
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: $table-shadow-offset;
    transform: translateX(-100%);
    pointer-events: none;
    box-shadow: $table-shadow-right;
    // Performance: no transition for better FPS
  }
}

// Hover effect on fixed columns
.table-row-wrapper:hover {
  .table-fixed-column {
    background-color: theme('colors.cardBg');
  }
}

// Body cells with fixed (not header, not total)
// Have lowest z-index to not overlap header/total
.table-cell.table-fixed-column {
  z-index: $z-index-fixed-cell !important;
}

// Fixed in header (highest z-index: 15)
// Always on top to not overlap during scroll
.table-header-cell.table-fixed-column {
  z-index: $z-index-header-fixed !important;
}

// Fixed in total row (z-index: 11)
// Above regular header but below header+fixed
.table-total-cell.table-fixed-column {
  z-index: $z-index-total-fixed !important;
}

